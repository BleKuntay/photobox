<VirtualHost *:80>
    ServerName your_domain
    DocumentRoot your_root_frontend

    Redirect permanent / https://your_domain/

    # Handle the rest of HTTP requests
    ErrorDocument 404 /home.html
</VirtualHost>

<VirtualHost *:443>
    ServerName your_domain
    DocumentRoot your_root_frontend

    # SSL Configuration
    SSLEngine on
    SSLCertificateFile /path/to/your/certificate.crt
    SSLCertificateKeyFile /path/to/your/private.key
    SSLCertificateChainFile /path/to/your/chainfile.pem

    # Handle proxy for /auth/
    ProxyPass /auth/ http://localhost:3000/
    ProxyPassReverse /auth/ http://localhost:3000/
    ProxyPass /photos/upload http://localhost:3000/photos/upload
    ProxyPassReverse /photos/upload http://localhost:3000/photos/upload
    ProxyPass /folders http://localhost:3000/folders
    ProxyPassReverse /folders http://localhost:3000/folders
    ProxyPass /photos http://localhost:3000/photos
    ProxyPassReverse /photos http://localhost:3000/photos
    ProxyPass /users/register http://localhost:3000/
    ProxyPassReverse /users/register http://localhost:3000/

    # Default page fallback
    DocumentRoot your_root_frontend
    DirectoryIndex home.html

    # Handle static files directly
    <Directory your_root_frontend>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
</VirtualHost>
